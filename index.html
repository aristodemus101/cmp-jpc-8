<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIFT GD Tracker - Real-time</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // ==================== PASTE YOUR FIREBASE CONFIG HERE ====================
        const firebaseConfig = {
          apiKey: "YOUR_API_KEY_HERE",
          authDomain: "YOUR_AUTH_DOMAIN_HERE",
          projectId: "YOUR_PROJECT_ID_HERE",
          storageBucket: "YOUR_STORAGE_BUCKET_HERE",
          messagingSenderId: "YOUR_MESSAGING_SENDER_ID_HERE",
          appId: "YOUR_APP_ID_HERE"
        };
        // =========================================================================

        // Initialize Firebase
        if (!firebase.apps.length) {
          firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();

        const { useState, useEffect } = React;
        
        const Icons = {
          Plus: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>,
          Users: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>,
          Calendar: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>,
          Edit: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>,
          Trash: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>,
          Download: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>,
          Upload: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>,
          Save: (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline></svg>
        };

        const GDTracker = () => {
          const [gdGroups, setGdGroups] = useState([]);
          const [stats, setStats] = useState({ totalStudents: 0, totalMentors: 0, totalGDs: 0 });
          const [selectedView, setSelectedView] = useState('tracker');
          const [showAddForm, setShowAddForm] = useState(false);
          const [editingStats, setEditingStats] = useState(false);
          const [loading, setLoading] = useState(false);
          
          const [newGD, setNewGD] = useState({
            timing: '',
            groupName: '',
            studentName: '',
            studentEmail: '',
            meetLink: '',
            panel1Name: '',
            panel1Email: '',
            panel1Phone: '',
            panel2Name: '',
            panel2Email: '',
            panel2Phone: '',
            spocs: '',
            status: 'pending'
          });

          const [tempStats, setTempStats] = useState({ totalStudents: 0, totalMentors: 0, totalGDs: 0 });

          // Load data from Firebase
          useEffect(() => {
            loadFromFirebase();
          }, []);

          // Real-time listener for GD groups
          useEffect(() => {
            const unsubscribe = db.collection('gdGroups').onSnapshot((snapshot) => {
              const groups = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
              setGdGroups(groups);
            });
            return () => unsubscribe();
          }, []);

          // Real-time listener for stats
          useEffect(() => {
            const unsubscribe = db.collection('stats').doc('dashboard').onSnapshot((doc) => {
              if (doc.exists) {
                setStats(doc.data());
                setTempStats(doc.data());
              }
            });
            return () => unsubscribe();
          }, []);

          const loadFromFirebase = async () => {
            setLoading(true);
            try {
              const gdSnap = await db.collection('gdGroups').get();
              const statsSnap = await db.collection('stats').doc('dashboard').get();
              
              if (!gdSnap.empty) {
                setGdGroups(gdSnap.docs.map(doc => ({ id: doc.id, ...doc.data() })));
              }
              
              if (statsSnap.exists) {
                setStats(statsSnap.data());
                setTempStats(statsSnap.data());
              }
            } catch (error) {
              console.error('Error loading:', error);
            }
            setLoading(false);
          };

          const handleAddGD = async () => {
            try {
              const docRef = await db.collection('gdGroups').add({
                ...newGD,
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
              });
              
              // Reset form
              setNewGD({
                timing: '',
                groupName: '',
                studentName: '',
                studentEmail: '',
                meetLink: '',
                panel1Name: '',
                panel1Email: '',
                panel1Phone: '',
                panel2Name: '',
                panel2Email: '',
                panel2Phone: '',
                spocs: '',
                status: 'pending'
              });
              
              setShowAddForm(false);
              alert('GD added successfully!');
            } catch (error) {
              console.error('Error adding GD:', error);
              alert('Error adding GD: ' + error.message);
            }
          };

          const handleUpdateGD = async (id, field, value) => {
            try {
              await db.collection('gdGroups').doc(id).update({ [field]: value });
            } catch (error) {
              console.error('Error updating:', error);
            }
          };

          const handleDeleteGD = async (id) => {
            if (window.confirm('Are you sure you want to delete this GD?')) {
              try {
                await db.collection('gdGroups').doc(id).delete();
                alert('GD deleted successfully!');
              } catch (error) {
                console.error('Error deleting:', error);
              }
            }
          };

          const handleSaveStats = async () => {
            try {
              await db.collection('stats').doc('dashboard').set(tempStats);
              setEditingStats(false);
              alert('Stats updated successfully!');
            } catch (error) {
              console.error('Error updating stats:', error);
            }
          };

          const exportToCSV = () => {
            const headers = ['Timing', 'Group', 'Student Name', 'Student Email', 'Meet Link', 
                            'Panel 1', 'Panel 1 Email', 'Panel 1 Phone', 
                            'Panel 2', 'Panel 2 Email', 'Panel 2 Phone', 'SPOCs', 'Status'];
            const rows = gdGroups.map(gd => [
              gd.timing, gd.groupName, gd.studentName, gd.studentEmail, gd.meetLink,
              gd.panel1Name, gd.panel1Email, gd.panel1Phone,
              gd.panel2Name, gd.panel2Email, gd.panel2Phone,
              gd.spocs, gd.status
            ]);
            
            const csvContent = [headers, ...rows].map(e => e.join(',')).join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'gd_tracker.csv';
            link.click();
          };

          const parseCSV = (text) => {
            const lines = text.trim().split('\n');
            const headers = lines[0].split(',').map(h => h.trim().toLowerCase());
            
            return lines.slice(1).map(line => {
              const values = line.split(',').map(v => v.trim());
              const obj = {};
              headers.forEach((header, index) => {
                obj[header] = values[index] || '';
              });
              return obj;
            });
          };

          const handleCSVUpload = (e) => {
            const file = e.target.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onload = async (event) => {
                const data = parseCSV(event.target.result);
                
                const batch = db.batch();
                data.forEach((row) => {
                  const docRef = db.collection('gdGroups').doc();
                  batch.set(docRef, {
                    timing: row.timing || row['timing'] || '',
                    groupName: row.group || row['group name/number'] || '',
                    studentName: row.name || row['student name'] || '',
                    studentEmail: row.email || row['student email'] || '',
                    meetLink: row.link || row['meet link'] || '',
                    panel1Name: row['panel 1'] || row['panel1'] || '',
                    panel1Email: row['panel 1 email'] || row['panel1email'] || '',
                    panel1Phone: row['panel 1 phone'] || row['panel1phone'] || '',
                    panel2Name: row['panel 2'] || row['panel2'] || '',
                    panel2Email: row['panel 2 email'] || row['panel2email'] || '',
                    panel2Phone: row['panel 2 phone'] || row['panel2phone'] || '',
                    spocs: row.spocs || row['spoc'] || '',
                    status: 'pending',
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                  });
                });
                
                await batch.commit();
                alert(`Imported ${data.length} GD entries!`);
              };
              reader.readAsText(file);
            }
          };

          if (loading) {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center">
                <div className="text-center">
                  <p className="text-xl font-semibold">Loading...</p>
                </div>
              </div>
            );
          }

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
              <div className="max-w-7xl mx-auto">
                <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                  <div className="flex items-center justify-between mb-6">
                    <div>
                      <h1 className="text-3xl font-bold text-indigo-900">IIFT GD Tracker</h1>
                      <p className="text-gray-600">October 16-19, 2025 â€¢ Real-time Sync ðŸ”„</p>
                    </div>
                    <div className="flex gap-2">
                      <button
                        onClick={exportToCSV}
                        className="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                      >
                        <Icons.Download size={20} />
                        Export CSV
                      </button>
                    </div>
                  </div>

                  <div className="grid grid-cols-3 gap-4 mb-6">
                    <div className="bg-blue-100 p-4 rounded-lg">
                      <div className="flex items-center justify-between mb-2">
                        <div className="flex items-center gap-2">
                          <Icons.Users size={24} className="text-blue-600" />
                          <span className="font-semibold">Total Students</span>
                        </div>
                        {!editingStats && (
                          <button onClick={() => setEditingStats(true)} className="text-blue-600">
                            <Icons.Edit size={16} />
                          </button>
                        )}
                      </div>
                      {editingStats ? (
                        <input
                          type="number"
                          value={tempStats.totalStudents}
                          onChange={(e) => setTempStats({...tempStats, totalStudents: parseInt(e.target.value) || 0})}
                          className="text-2xl font-bold text-blue-700 border rounded px-2 py-1 w-full"
                        />
                      ) : (
                        <p className="text-3xl font-bold text-blue-700">{stats.totalStudents}</p>
                      )}
                    </div>
                    
                    <div className="bg-green-100 p-4 rounded-lg">
                      <div className="flex items-center justify-between mb-2">
                        <div className="flex items-center gap-2">
                          <Icons.Users size={24} className="text-green-600" />
                          <span className="font-semibold">Total Mentors</span>
                        </div>
                      </div>
                      {editingStats ? (
                        <input
                          type="number"
                          value={tempStats.totalMentors}
                          onChange={(e) => setTempStats({...tempStats, totalMentors: parseInt(e.target.value) || 0})}
                          className="text-2xl font-bold text-green-700 border rounded px-2 py-1 w-full"
                        />
                      ) : (
                        <p className="text-3xl font-bold text-green-700">{stats.totalMentors}</p>
                      )}
                    </div>
                    
                    <div className="bg-orange-100 p-4 rounded-lg">
                      <div className="flex items-center justify-between mb-2">
                        <div className="flex items-center gap-2">
                          <Icons.Calendar size={24} className="text-orange-600" />
                          <span className="font-semibold">Total GDs</span>
                        </div>
                      </div>
                      {editingStats ? (
                        <input
                          type="number"
                          value={tempStats.totalGDs}
                          onChange={(e) => setTempStats({...tempStats, totalGDs: parseInt(e.target.value) || 0})}
                          className="text-2xl font-bold text-orange-700 border rounded px-2 py-1 w-full"
                        />
                      ) : (
                        <p className="text-3xl font-bold text-orange-700">{stats.totalGDs}</p>
                      )}
                    </div>
                  </div>

                  {editingStats && (
                    <div className="flex gap-2 justify-end mb-4">
                      <button
                        onClick={() => {
                          setTempStats(stats);
                          setEditingStats(false);
                        }}
                        className="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400"
                      >
                        Cancel
                      </button>
                      <button
                        onClick={handleSaveStats}
                        className="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2"
                      >
                        <Icons.Save size={16} />
                        Save Stats
                      </button>
                    </div>
                  )}

                  <div className="flex gap-2 mb-4">
                    <button
                      onClick={() => setSelectedView('tracker')}
                      className={`px-4 py-2 rounded-lg ${selectedView === 'tracker' ? 'bg-indigo-600 text-white' : 'bg-gray-200'}`}
                    >
                      GD Tracker
                    </button>
                    <button
                      onClick={() => setSelectedView('add')}
                      className={`px-4 py-2 rounded-lg ${selectedView === 'add' ? 'bg-indigo-600 text-white' : 'bg-gray-200'}`}
                    >
                      Add GD
                    </button>
                    <button
                      onClick={() => setSelectedView('import')}
                      className={`px-4 py-2 rounded-lg ${selectedView === 'import' ? 'bg-indigo-600 text-white' : 'bg-gray-200'}`}
                    >
                      Import CSV
                    </button>
                  </div>
                </div>

                {selectedView === 'tracker' && (
                  <div className="bg-white rounded-lg shadow-lg p-6">
                    <h2 className="text-2xl font-bold mb-4">GD Groups ({gdGroups.length})</h2>
                    
                    {gdGroups.length === 0 ? (
                      <div className="text-center py-12 text-gray-500">
                        <p className="mb-4">No GD groups yet</p>
                        <button
                          onClick={() => setSelectedView('add')}
                          className="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700"
                        >
                          Add Your First GD
                        </button>
                      </div>
                    ) : (
                      <div className="overflow-x-auto">
                        <table className="w-full text-sm">
                          <thead>
                            <tr className="bg-indigo-100">
                              <th className="p-2 text-left">Timing</th>
                              <th className="p-2 text-left">Group</th>
                              <th className="p-2 text-left">Student</th>
                              <th className="p-2 text-left">Email</th>
                              <th className="p-2 text-left">Meet Link</th>
                              <th className="p-2 text-left">Panel 1</th>
                              <th className="p-2 text-left">Panel 2</th>
                              <th className="p-2 text-left">SPOCs</th>
                              <th className="p-2 text-left">Status</th>
                              <th className="p-2 text-left">Actions</th>
                            </tr>
                          </thead>
                          <tbody>
                            {gdGroups.map((gd, idx) => (
                              <tr key={gd.id} className={idx % 2 === 0 ? 'bg-gray-50' : ''}>
                                <td className="p-2">{gd.timing}</td>
                                <td className="p-2 font-semibold">{gd.groupName}</td>
                                <td className="p-2">{gd.studentName}</td>
                                <td className="p-2 text-xs">{gd.studentEmail}</td>
                                <td className="p-2">
                                  {gd.meetLink && (
                                    <a href={gd.meetLink} target="_blank" rel="noopener noreferrer" className="text-blue-600 hover:underline text-xs">
                                      Join
                                    </a>
                                  )}
                                </td>
                                <td className="p-2 text-xs">
                                  {gd.panel1Name && (
                                    <div>
                                      <div>{gd.panel1Name}</div>
                                      <div className="text-gray-500">{gd.panel1Phone}</div>
                                    </div>
                                  )}
                                </td>
                                <td className="p-2 text-xs">
                                  {gd.panel2Name && (
                                    <div>
                                      <div>{gd.panel2Name}</div>
                                      <div className="text-gray-500">{gd.panel2Phone}</div>
                                    </div>
                                  )}
                                </td>
                                <td className="p-2 text-xs">{gd.spocs}</td>
                                <td className="p-2">
                                  <select
                                    value={gd.status}
                                    onChange={(e) => handleUpdateGD(gd.id, 'status', e.target.value)}
                                    className="text-xs border rounded px-2 py-1"
                                  >
                                    <option value="pending">Pending</option>
                                    <option value="in-progress">In Progress</option>
                                    <option value="completed">Completed</option>
                                  </select>
                                </td>
                                <td className="p-2">
                                  <button
                                    onClick={() => handleDeleteGD(gd.id)}
                                    className="text-red-600 hover:text-red-800"
                                  >
                                    <Icons.Trash size={18} />
                                  </button>
                                </td>
                              </tr>
                            ))}
                          </tbody>
                        </table>
                      </div>
                    )}
                  </div>
                )}

                {selectedView === 'add' && (
                  <div className="bg-white rounded-lg shadow-lg p-6">
                    <h2 className="text-2xl font-bold mb-4">Add New GD</h2>
                    
                    <div className="grid grid-cols-2 gap-4 mb-4">
                      <div>
                        <label className="block text-sm font-medium mb-1">Timing</label>
                        <input
                          type="text"
                          value={newGD.timing}
                          onChange={(e) => setNewGD({...newGD, timing: e.target.value})}
                          placeholder="e.g., 18:00"
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>
                      
                      <div>
                        <label className="block text-sm font-medium mb-1">Group Name/Number</label>
                        <input
                          type="text"
                          value={newGD.groupName}
                          onChange={(e) => setNewGD({...newGD, groupName: e.target.value})}
                          placeholder="e.g., G1"
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>
                      
                      <div>
                        <label className="block text-sm font-medium mb-1">Student Name</label>
                        <input
                          type="text"
                          value={newGD.studentName}
                          onChange={(e) => setNewGD({...newGD, studentName: e.target.value})}
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>
                      
                      <div>
                        <label className="block text-sm font-medium mb-1">Student Email</label>
                        <input
                          type="email"
                          value={newGD.studentEmail}
                          onChange={(e) => setNewGD({...newGD, studentEmail: e.target.value})}
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>
                      
                      <div className="col-span-2">
                        <label className="block text-sm font-medium mb-1">Meet Link</label>
                        <input
                          type="url"
                          value={newGD.meetLink}
                          onChange={(e) => setNewGD({...newGD, meetLink: e.target.value})}
                          placeholder="https://meet.google.com/..."
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>
                      
                      <div className="col-span-2 border-t pt-4 mt-2">
                        <h3 className="font-semibold mb-3">Panel 1</h3>
                        <div className="grid grid-cols-3 gap-4">
                          <div>
                            <label className="block text-sm font-medium mb-1">Name</label>
                            <input
                              type="text"
                              value={newGD.panel1Name}
                              onChange={(e) => setNewGD({...newGD, panel1Name: e.target.value})}
                              className="w-full border rounded px-3 py-2"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">Email</label>
                            <input
                              type="email"
                              value={newGD.panel1Email}
                              onChange={(e) => setNewGD({...newGD, panel1Email: e.target.value})}
                              className="w-full border rounded px-3 py-2"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">Phone</label>
                            <input
                              type="tel"
                              value={newGD.panel1Phone}
                              onChange={(e) => setNewGD({...newGD, panel1Phone: e.target.value})}
                              className="w-full border rounded px-3 py-2"
                            />
                          </div>
                        </div>
                      </div>
                      
                      <div className="col-span-2 border-t pt-4 mt-2">
                        <h3 className="font-semibold mb-3">Panel 2</h3>
                        <div className="grid grid-cols-3 gap-4">
                          <div>
                            <label className="block text-sm font-medium mb-1">Name</label>
                            <input
                              type="text"
                              value={newGD.panel2Name}
                              onChange={(e) => setNewGD({...newGD, panel2Name: e.target.value})}
                              className="w-full border rounded px-3 py-2"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">Email</label>
                            <input
                              type="email"
                              value={newGD.panel2Email}
                              onChange={(e) => setNewGD({...newGD, panel2Email: e.target.value})}
                              className="w-full border rounded px-3 py-2"
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">Phone</label>
                            <input
                              type="tel"
                              value={newGD.panel2Phone}
                              onChange={(e) => setNewGD({...newGD, panel2Phone: e.target.value})}
                              className="w-full border rounded px-3 py-2"
                            />
                          </div>
                        </div>
                      </div>
                      
                      <div className="col-span-2">
                        <label className="block text-sm font-medium mb-1">SPOCs</label>
                        <input
                          type="text"
                          value={newGD.spocs}
                          onChange={(e) => setNewGD({...newGD, spocs: e.target.value})}
                          placeholder="e.g., JAY, ADITYA SINGH"
                          className="w-full border rounded px-3 py-2"
                        />
                      </div>
                    </div>
                    
                    <div className="flex gap-2 justify-end">
                      <button
                        onClick={() => setSelectedView('tracker')}
                        className="px-6 py-2 bg-gray-300 rounded-lg hover:bg-gray-400"
                      >
                        Cancel
                      </button>
                      <button
                        onClick={handleAddGD}
                        className="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 flex items-center gap-2"
                      >
                        <Icons.Save size={20} />
                        Save GD
                      </button>
                    </div>
                  </div>
                )}

                {selectedView === 'import' && (
                  <div className="bg-white rounded-lg shadow-lg p-6">
                    <h2 className="text-2xl font-bold mb-4">Import GDs from CSV</h2>
                    
                    <div className="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                      <h3 className="font-semibold mb-2">CSV Format:</h3>
                      <p className="text-sm mb-2">Your CSV should have these columns (in any order):</p>
                      <p className="text-sm font-mono">
                        Timing, Group Name/Number, Name, Student Email, Link, 
                        Panel 1, Panel 1 Email, Panel 1 Phone, 
                        Panel 2, Panel 2 Email, Panel 2 Phone, SPOCs
                      </p>
                      <p className="text-sm mt-2 text-gray-600">
                        <strong>Note:</strong> All fields are optional. Leave blank if not available.
                      </p>
                    </div>

                    <div className="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                      <Icons.Upload className="mx-auto mb-4 text-gray-400" size={48} />
                      <input
                        type="file"
                        accept=".csv"
                        onChange={handleCSVUpload}
                        className="mb-4"
                        id="csvUpload"
                      />
                      <label htmlFor="csvUpload" className="cursor-pointer">
                        <div className="text-lg font-semibold text-indigo-600 hover:text-indigo-800">
                          Click to upload CSV file
                        </div>
                      </label>
                    </div>

                    <div className="mt-6">
                      <button
                        onClick={() => {
                          const sampleCSV = `Timing,Group Name/Number,Name,Student Email,Link,Panel 1,Panel 1 Email,Panel 1 Phone,Panel 2,Panel 2 Email,Panel 2 Phone,SPOCs
18:00,G1,Akansha Marwah,akansha_ba26@iift.edu,https://meet.google.com/qwp-zdky-qsx,Manikanta Bhavirisetti,manikanta.bhavirisetti@ofi.com,7994978649,Ankur Gupta,ankurgupta.iift@gmail.com,9818009068,JAY
18:30,G2,Ayush R Patel,ayush_ba26@iift.edu,https://meet.google.com/abc-defg-hij,Dr. Kumar,kumar@company.com,9876543210,Ms. Sharma,sharma@company.com,9876543211,ADITYA SINGH`;
                          
                          const blob = new Blob([sampleCSV], { type: 'text/csv' });
                          const url = URL.createObjectURL(blob);
                          const link = document.createElement('a');
                          link.href = url;
                          link.download = 'sample_gd_import.csv';
                          link.click();
                        }}
                        className="text-blue-600 text-sm underline"
                      >
                        Download Sample CSV Template
                      </button>
                    </div>
                  </div>
                )}
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GDTracker />);
    </script>
</body>
</html>
